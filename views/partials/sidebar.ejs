<!-- views/partials/sidebar.ejs -->
<div id="sidebar" class="sidebar sidebar-expanded bg-white shadow-lg h-screen fixed z-10 overflow-y-auto">
  <div class="p-4 border-b flex justify-between items-center">
    <h2 class="text-xl font-bold text-blue-600">Cube Timer</h2>
    <button id="toggle-sidebar" class="text-gray-500 hover:text-gray-700 focus:outline-none">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </div>

  <div class="p-4 border-b">
    <div class="flex items-center space-x-3">
      <div class="profile-pic">
        <%= user.username.charAt(0).toUpperCase() %>
      </div>
      <div>
        <p class="font-medium"><%= user.username %></p>
        <a href="/auth/logout" class="text-sm text-blue-500 hover:underline">Logout</a>
      </div>
    </div>
  </div>

  <div class="p-4">
    <h3 class="text-lg font-semibold mb-3">Other Cubers</h3>
    <div id="users-list" class="space-y-4">
      <!-- Users will be loaded here via JavaScript -->
      <div class="animate-pulse">
        <div class="h-10 bg-gray-200 rounded"></div>
      </div>
      <div class="animate-pulse">
        <div class="h-10 bg-gray-200 rounded"></div>
      </div>
    </div>
  </div>
</div>

<!-- Add a button that shows when sidebar is collapsed -->
<div id="show-sidebar-btn" class="fixed top-4 left-4 bg-white rounded-md shadow-md p-2 cursor-pointer hidden z-20 hover:bg-gray-100">
  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
  </svg>
</div>
